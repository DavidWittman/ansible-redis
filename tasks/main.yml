---
- include: check_vars.yml

- include: download.yml
  when: redis_install_method == "source"
  tags:
    - download

- include: dependencies.yml
  when: redis_install_method == "source"
  tags:
    - install

- include: setup.yml
  tags:
    - install

- include: package.yml
  when: redis_install_method == "package"
  tags:
    - install

- include: source.yml
  when: redis_install_method == "source"
  tags:
    - install

- include: server.yml
  when: redis_server
  tags:
    - config

- include: sentinel.yml
  when: redis_sentinel
  tags:
    - config

- include: local_facts.yml
  when: redis_local_facts|bool
